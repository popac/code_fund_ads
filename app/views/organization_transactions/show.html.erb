<%= render(PageComponent.new(subject: @organization)) do |component| %>
  <% component.with(:header) do %>
    <%= render(Page::HeaderComponent.new(title: "Transactions", subtitle: "for #{@organization.name}", buttons: [
      layout_button(link: edit_organization_transaction_path(@organization, @organization_transaction), icon: "fas fa-pencil", title: "Edit transaction", admin: true),
      delete_button(link: organization_transaction_path(@organization, @organization_transaction), title: "Delete transaction", layout: true, admin: true)
    ])) %>
  <% end %>
  <% component.with(:body) do %>
    <%= render CardComponent.new do %>
      <%= render(Card::HeaderComponent.new) { "Transaction Details" } %>
      <%= render Card::FooterComponent.new do %>
        <%= render ListGroupComponent.new(bordered: true, flush: true, classes: "text-body") do %>
          <%= details_li("Post Date") { @organization_transaction.posted_at.to_s("mm/dd/yyyy") } %>
          <%= details_li("Amount") { @organization_transaction.amount.format } %>
          <%= details_li("Type") { @organization_transaction.transaction_type.capitalize } %>
          <%= details_li("Gift?") { @organization_transaction.gift? ? "Yes" : "No" } %>
          <%= details_li("Reference") { @organization_transaction.reference } %>
          <%= details_li("Description") { @organization_transaction.description } %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
